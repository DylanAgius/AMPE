/*************************************************************************
 *
 * This file is part of the SAMRAI distribution.  For full copyright 
 * information, see COPYRIGHT and COPYING.LESSER. 
 *
 * Copyright:     (c) 1997-2012 Lawrence Livermore National Security, LLC
 * Description:   Performance input file for TreeLoadBalancer 
 *
 ************************************************************************/



Main {
   dim = 2

   base_name = "small_cube.2d.caplb"
   baseline_dirname = "test_inputs"
   // generate_baseline = TRUE // Default is FALSE

   log_all_nodes = FALSE

   // Balancer types: TreeLoadBalancer, ChopAndPackLoadBalancer
   load_balancer_type = "ChopAndPackLoadBalancer"

   /*
     Specify anchor layer as a box array in the reference index space.
     The anchor layer will be partitioned but its partitioning is not
     used in the performance test.

     If omitted, the anchor layer is the same as the domain.
   */
   anchor_boxes = [(0,0),(199,199)]

   /*
     If anchor is not contained in domain, you can use this flag
     to remove the parts that are outside the domain.
   */
   autonest_anchor = TRUE

   /*
     Specify ghost-cell-width between anchor and unbalanced.
   */
   ghost_cell_width = 4, 4

   /*
     Specify the min/max patch size.
   */
   min_size = 4, 4
   // max_size = 8, 8

   PrebalanceByUserBoxes {
      /*
        Specify unbalanced layer as a box array in the reference index space.

        initial_owners are the ranks of the owners of all the initial balance boxes.
        By default, processor 0 owns all the initial balance boxes.
      */
      balance_boxes = [(10,10),(189,189)]
      initial_owners = 0
   }

}

CartesianGridGeometry {
   domain_boxes = [(0,0),(199,199)]
   x_lo = 0.0, 0.0
   x_up = 1.0, 1.0
   periodic_dimension = 0,1
}

TreeLoadBalancer {
  report_load_balance = TRUE // Reported in main
  n_root_cycles = -1
  balance_penalty_wt = 1.0
  surface_penalty_wt = 1.0
  slender_penalty_wt = 1.0
  precut_penalty_wt = 1.0

  // Debugging options
  check_map = FALSE
  check_connectivity = FALSE
  print_steps = TRUE
  print_swap_steps = FALSE
  print_break_steps = FALSE
  print_edge_steps = FALSE
}

ChopAndPackLoadBalancer {
  max_workload_factor = 0.1, 0.1
}

TimerManager {
//   print_exclusive      = TRUE
   print_summed           = TRUE
   print_max              = TRUE
   print_threshold        = 0.
   timer_list             = "hier::*::*", "mesh::*::*", "apps::*::*"
}
